{% extends "storageTemplate.html" %}
{% load staticfiles %}
{% load static %}

{% block menu_bar %}
    <div class="go_back">
        <a href="../main"><button>Go Back</button></a>
    </div>

    <div class="user">
        <p>Hello, {{ use.get_username }}</p>
    </div>
{% endblock %}

{% block left_bar %}
    <ul class="menu_items">
        <li><a href="/storage_control/file_upload">Add File</a></li>
        <li><a href="/storage_control/directory_create">Add Directory</a></li>
        {% if request.session.move_file_id != None%}
            <li><a href="/paste/">Paste file</a></li>
        {% endif %}
        <li><p> Current directory: {{ request.session.current_directory }}</p></li>
    </ul>

    <div class="account_info">
        <p>Account space: {{ konto.pojemnosc }} B</p>
        <p>Left space: {{ pozostalo }} B</p>
    </div>

    <div class="folder_list">
        <p>Your directories</p>
        {% for i in katalogi.lista_katalogow.all %}
            <li><a href="/directory/{{ i.id }}">{{ i.nazwa }}</a></li>
        {% endfor %}
    </div>
{% endblock %}

{% block files_list %}
        <ul class="table_description">
            <li class="file_name">Name</li>
            <li class="file_size">Size</li>
            <li class="file_shared">Share</li>
        </ul>
    <hr>

    <div class="files_list">

    {% for i in file %}
        <ul class="file">
            <a href="{{ i.adres.url }}"><li class="file_name">{{ i.nazwa }}</li></a>
            <li class="file_size">{{ i.adres.size }} B</li>
            <li class="file_shared">{{ i.czy_udostepniony }}</li>
            <li class="eventButton"><a href="/remove/{{ i.id }}">Remove</a></li>
            <li class="eventButton"><a href="/rename/{{ i.id }}">Rename</a></li>
            <li class="eventButton"><a href="/move/{{ i.id }}">Move</a></li>
            {% if not i.czy_udostepniony %}
                <li class="eventButton"><a href="/share/{{ i.id }}">Share</a></li>
            {% endif %}
        </ul>
        <hr>
    {% endfor %}

    </div>
{% endblock %}